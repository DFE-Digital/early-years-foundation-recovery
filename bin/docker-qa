#!/bin/sh
#
# @see https://github.com/SeleniumHQ/docker-selenium
#
# Generate self-signed certificates before running using:
#   $ ./bin/docker-certs
#
# @example
#
#   $ BROWSER=standalone_firefox BASE_URL=https://app:3000 ./bin/docker-qa
#   $ BASE_URL=https://ey-recovery.london.cloudapps.digital ./bin/docker-qa
#
# ------------------------------------------------------------------------------
set -e

BROWSER=${BROWSER-'standalone_chrome'} \
  docker-compose \
    -f docker-compose.yml \
    -f docker-compose.qa.yml \
    --project-name recovery \
    run \
    --volume="$PWD/ui:/srv/spec" \
    --name recovery_qa \
    --rm qa \
    rspec "$@"
